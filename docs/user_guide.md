# Руководство пользователя: Система Q&A по документам СРО НОСО

## 1. Введение

Система позволяет задавать вопросы по документам СРО НОСО и получать точные ответы на основе релевантных фрагментов. Интерфейс построен на Gradio и доступен через веб-браузер.

## 2. Запуск системы

1. Установите зависимости: `pip install -r requirements.txt`
2. Настройте `.env` файл с ключами API
3. Запустите Ollama и модель qwen2.5:3b: `ollama pull qwen2.5:3b`
4. Запустите приложение: `python rag_app.py`
5. Откройте браузер по адресу, указанному в консоли (обычно http://127.0.0.1:7860)

## 3. Интерфейс системы

### 3.1 Вкладка "Чат с AI"
- **Поле ввода вопроса:** Введите вопрос на естественном русском языке
- **Кнопка "Отправить":** Генерирует ответ на основе документов
- **Ответ от системы:** Показывает сгенерированный текст с цитатами из документов
- **История чата:** Видите предыдущие вопросы и ответы в сессии

### 3.2 Вкладка "Поиск по документам"
- **Поле поиска:** Введите запрос для поиска в документах
- **Фильтр по документу:** Выберите конкретный документ из списка
- **Результаты поиска:** Список найденных чанков с релевантностью, превью текста и метаданными
- **Иерархическое отображение:** Чанки структурированы по разделам документа

### 3.3 Вкладка "Администрирование"
Доступно администраторам для управления системой:
- **Список документов:** Просмотр всех загруженных документов с метаинформацией
- **Просмотр чанков:** Детальный просмотр каждого чанка документа
- **Редактирование метаданных:** Корректировка резюме, ключевых слов и вопросов чанков
- **Переиндексация:** Обновление базы данных при изменении документов
- **Экспорт данных:** Скачивание бэкапов и отчетов

## 4. Как задавать вопросы

### 4.1 Рекомендации по формулировке
- Задавайте вопросы четко и конкретно
- Используйте ключевые термины из строительной отрасли
- Примеры вопросов:
  - "Какие требования к квалификации специалистов по строительному контролю?"
  - "Каковы правила дисциплинарного воздействия в СРО?"
  - "Что такое профессиональный стандарт для инженеров-проектировщиков?"

### 4.2 Поиск в документах
- Для поиска по ключевым словам используйте вкладку "Поиск по документам"
- Фильтр помогает сузить поиск до определенного документа
- Результаты ранжированы по релевантности

## 5. Просмотр документов

- На вкладке "Администрирование" выберите документ для просмотра
- Полный текст с выделенными чанками
- Навигатор по чанкам: переход между разделами
- Метаданные: резюме, ключевые слова, гипотетические вопросы для каждого чанка

## 6. Безопасность и конфиденциальность

- Вопросы логируются для улучшения системы, но не содержат персональные данные
- Все запросы обрабатываются локально или через защищенные API
- Избегайте ввода чувствительной информации в запросы

## 7. Решение проблем

### 7.1 Система не запускается
- Проверьте установку всех зависимостей
- Убедитесь, что файл `.env` настроен правильно
- Проверьте, что Ollama запущен и модель загружена

### 7.2 Поиск не дает результатов
- Попробуйте перефразировать вопрос
- Используйте ключевые слова
- Проверьте фильтр по документам

### 7.3 Медленный отклик
- Время ответа зависит от сложности запроса и мощности оборудования
- Максимум 30 секунд на генерацию ответа

## 8. Контакты

Для технической поддержки обращайтесь к разработчикам проекта.
